{
  "__comment": "Grafana Dashboard Template for theaterverse_final (強化④ 可観測性)",
  "__file_path__": "/root/System_Validator/APP_DIR/theaterverse_final/monitoring/grafana_dashboard_template.json",
  "__end_of_structure__": "--- END OF STRUCTURE ---",
  "dashboard": {
    "id": null,
    "title": "System Validator Observability",
    "tags": ["theaterverse_final", "observability"],
    "timezone": "browser",
    "schemaVersion": 39,
    "version": 1,
    "panels": [
      {
        "type": "timeseries",
        "title": "LLM Adapter Latency (ms)",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, sum(rate(llm_adapter_latency_bucket[5m])) by (le))",
            "legendFormat": "p95 latency"
          }
        ],
        "fieldConfig": {
          "defaults": {"unit": "ms"}
        },
        "gridPos": {"x": 0, "y": 0, "w": 12, "h": 8}
      },
      {
        "type": "stat",
        "title": "Auth Failures (OIDC)",
        "targets": [
          {"expr": "increase(auth_verify_failures_total[1h])", "legendFormat": "failures"}
        ],
        "fieldConfig": {
          "defaults": {"unit": "short"}
        },
        "gridPos": {"x": 12, "y": 0, "w": 12, "h": 8}
      },
      {
        "type": "timeseries",
        "title": "DB Connections",
        "targets": [
          {"expr": "pg_stat_activity_count", "legendFormat": "connections"}
        ],
        "gridPos": {"x": 0, "y": 8, "w": 12, "h": 8}
      },
      {
        "type": "timeseries",
        "title": "CPU Usage %",
        "targets": [
          {"expr": "100 - (avg by(instance)(irate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)", "legendFormat": "cpu%"}
        ],
        "fieldConfig": {"defaults": {"unit": "percent"}},
        "gridPos": {"x": 12, "y": 8, "w": 12, "h": 8}
      }
    ]
  }
}
/root/System_Validator/APP_DIR/theaterverse_final/monitoring/grafana_dashboard_template.json.bak
--- END OF STRUCTURE ---
